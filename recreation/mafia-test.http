### ============================================
### 마피아 게임 테스트 시나리오
### 순서대로 실행하고, 응답값을 다음 요청에 복사해서 사용하세요
### ============================================

### 1. 방 생성 (Host) - 먼저 실행!
### 응답에서 roomId, hostSessionId 복사
POST http://localhost:8080/api/v1/rooms
Content-Type: application/json

### 2. 유저1 입장 - roomId를 위에서 복사한 값으로 변경
POST http://localhost:8080/api/v1/rooms/join
Content-Type: application/json

{
  "roomId": "NASL",
  "nickname": "철수"
}

### 3. 유저2 입장
POST http://localhost:8080/api/v1/rooms/join
Content-Type: application/json

{
  "roomId": "NASL",
  "nickname": "영희"
}

### 4. 유저3 입장
POST http://localhost:8080/api/v1/rooms/join
Content-Type: application/json

{
  "roomId": "NASL",
  "nickname": "민수"
}

### 5. 유저4 입장
POST http://localhost:8080/api/v1/rooms/join
Content-Type: application/json

{
  "roomId": "NASL",
  "nickname": "지영"
}

### 6. 방 정보 확인 - 4명 입장 확인
GET http://localhost:8080/api/v1/rooms/NASL

### ============================================
### 마피아 게임 시작
### ============================================

### 7. 마피아 게임 초기화 (역할 배정 + 밤 시작)
### 응답에서 각 플레이어의 deviceId 확인
POST http://localhost:8080/api/v1/games/mafia/init
Content-Type: application/json

{
  "roomId": "NS22"
}

### 8. 내 역할 조회 (deviceId는 join 응답에서 확인)
GET http://localhost:8080/api/v1/games/mafia/role?roomId=여기에_roomId_입력&deviceId=여기에_deviceId_입력

### 9. 현재 게임 상태 조회
GET http://localhost:8080/api/v1/games/mafia/state/NS22

### 10. 생존자 목록 조회
GET http://localhost:8080/api/v1/games/mafia/alive/NS22

### ============================================
### 밤 행동 (Night Actions)
### ============================================

### 11. 마피아 채팅 전송 (마피아 deviceId로)
POST http://localhost:8080/api/v1/games/mafia/chat
Content-Type: application/json

{
  "roomId": "여기에_roomId_입력",
  "deviceId": "마피아_deviceId",
  "message": "영희를 죽이자"
}

### 12. 마피아 살해 타겟 지목
POST http://localhost:8080/api/v1/games/mafia/kill
Content-Type: application/json

{
  "roomId": "여기에_roomId_입력",
  "deviceId": "마피아_deviceId",
  "targetDeviceId": "타겟_deviceId"
}

### 13. 의사 살리기 (6명 이상일 때만)
POST http://localhost:8080/api/v1/games/mafia/save
Content-Type: application/json

{
  "roomId": "여기에_roomId_입력",
  "deviceId": "의사_deviceId",
  "targetDeviceId": "살릴사람_deviceId"
}

### 14. 경찰 조사 (7명 이상일 때만) - 결과 즉시 반환
POST http://localhost:8080/api/v1/games/mafia/investigate
Content-Type: application/json

{
  "roomId": "여기에_roomId_입력",
  "deviceId": "경찰_deviceId",
  "targetDeviceId": "조사할사람_deviceId"
}

### ============================================
### 낮 투표 (VOTE 페이즈에서 실행)
### ============================================

### 15. 투표 (처형 대상 선택)
POST http://localhost:8080/api/v1/games/mafia/vote
Content-Type: application/json

{
  "roomId": "여기에_roomId_입력",
  "voterDeviceId": "투표자_deviceId",
  "targetDeviceId": "처형대상_deviceId"
}

### ============================================
### 찬반 투표 (FINAL_VOTE 페이즈에서 실행)
### ============================================

### 16. 찬반 투표 - 처형 찬성 (true)
POST http://localhost:8080/api/v1/games/mafia/final-vote
Content-Type: application/json

{
  "roomId": "여기에_roomId_입력",
  "deviceId": "투표자_deviceId",
  "killVote": true
}

### 17. 찬반 투표 - 생존 찬성 (false)
POST http://localhost:8080/api/v1/games/mafia/final-vote
Content-Type: application/json

{
  "roomId": "여기에_roomId_입력",
  "deviceId": "다른투표자_deviceId",
  "killVote": false
}
